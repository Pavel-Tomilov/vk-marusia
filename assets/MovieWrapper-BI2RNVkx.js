const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./YouTube-B7dMPEux.js","./index-CIAGuXla.js","./index-CWwiN5nG.css","./SoundCloud-D4u0iRI_.js","./Vimeo-D3AUVfuB.js","./Mux-CcNF1AcG.js","./Facebook-Cd4eAQSz.js","./Streamable-B6WKtMaO.js","./Wistia-Cec8rJsU.js","./Twitch-bamLw5hI.js","./DailyMotion-CSi28wXW.js","./Mixcloud-D4e5agMK.js","./Vidyard-CS_o7sgA.js","./Kaltura-CNKYDdiC.js","./FilePlayer-DLSEGz8l.js","./Preview-DdvDx5PR.js"])))=>i.map(i=>d[i]);
import{r as e,b as t,_ as r,g as a,c as n,d as o,e as i,j as l,R as s,f as u,h as c,i as p,M as d,B as y,q as h,A as f}from"./index-CIAGuXla.js";import{S as m}from"./favorite-DAk9e3Rx.js";import{a as b,u as _}from"./ErrorMessage-CkkX8T-l.js";const v="MovieWrapper-module__movie__container__aBUub",P="MovieWrapper-module__movie__content__I-jkO",g="MovieWrapper-module__movie__title__wUaLM",w="MovieWrapper-module__movie__plot__CwbH0",O="MovieWrapper-module__movie__poster__qwPQq",j="MovieWrapper-module__movie__poster_descr__TW4i-",E="MovieWrapper-module__movie__nav_grid__uUOnn",k="MovieWrapper-module__movie__nav_flex__aANDg",T=t=>e.createElement("svg",{width:20,height:19,viewBox:"0 0 20 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},e.createElement("path",{d:"M14.5 0C17.5376 0 20 2.5 20 6C20 13 12.5 17 10 18.5C7.5 17 0 13 0 6C0 2.5 2.5 0 5.5 0C7.35997 0 9 1 10 2C11 1 12.64 0 14.5 0Z",fill:"#B4A9FF"})),C=t=>e.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},e.createElement("path",{d:"M10 2C12.7486 2 15.1749 3.38626 16.6156 5.5H14V7.5H20V1.5H18V3.99936C16.1762 1.57166 13.2724 0 10 0C4.47715 0 0 4.47715 0 10H2C2 5.58172 5.58172 2 10 2ZM18 10C18 14.4183 14.4183 18 10 18C7.25144 18 4.82508 16.6137 3.38443 14.5H6V12.5H0V18.5H2V16.0006C3.82381 18.4283 6.72764 20 10 20C15.5228 20 20 15.5228 20 10H18Z",fill:"white"})),M="TrailerModal-module__trailer__jHrJ8",x="TrailerModal-module__trailer__wrapper__KYshY",S="TrailerModal-module__trailer__overlay_layer__Ruyq3",A="TrailerModal-module__trailer__close__Bs8bh";var R,I,L,D,V,U,N,H,z,$;function B(){if(D)return L;D=1;var e=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var r=Object.prototype.toString.call(e);return"[object RegExp]"===r||"[object Date]"===r||function(e){return e.$$typeof===t}(e)}(e)};var t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function a(e,t,a){return e.concat(t).map((function(e){return r(e,a)}))}function n(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function o(e,t){try{return t in e}catch(r){return!1}}function i(e,t,a){var i={};return a.isMergeableObject(e)&&n(e).forEach((function(t){i[t]=r(e[t],a)})),n(t).forEach((function(n){(function(e,t){return o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,n)||(o(e,n)&&a.isMergeableObject(t[n])?i[n]=function(e,t){if(!t.customMerge)return l;var r=t.customMerge(e);return"function"==typeof r?r:l}(n,a)(e[n],t[n],a):i[n]=r(t[n],a))})),i}function l(t,n,o){(o=o||{}).arrayMerge=o.arrayMerge||a,o.isMergeableObject=o.isMergeableObject||e,o.cloneUnlessOtherwiseSpecified=r;var l=Array.isArray(n);return l===Array.isArray(t)?l?o.arrayMerge(t,n,o):i(t,n,o):r(n,o)}return l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return l(e,r,t)}),{})},L=l}function F(){if(U)return V;U=1;var e,r=Object.create,a=Object.defineProperty,n=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,s=(e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))l.call(e,s)||s===r||a(e,s,{get:()=>t[s],enumerable:!(i=n(t,s))||i.enumerable});return e},u=(e,t,n)=>(n=null!=e?r(i(e)):{},s(e&&e.__esModule?n:a(n,"default",{value:e,enumerable:!0}),e)),c={};((e,t)=>{for(var r in t)a(e,r,{get:t[r],enumerable:!0})})(c,{callPlayer:()=>M,getConfig:()=>T,getSDK:()=>k,isBlobUrl:()=>S,isMediaStream:()=>x,lazy:()=>h,omit:()=>C,parseEndTime:()=>g,parseStartTime:()=>P,queryString:()=>O,randomString:()=>w,supportsWebKitPresentationMode:()=>A}),e=c,V=s(a({},"__esModule",{value:!0}),e);var p=u(t()),d=u(function(){if(I)return R;function e(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function t(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}return I=1,R=function(r,a,n){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");"function"==typeof a&&(n=a,a={}),a=a||{},n=n||function(){},i.type=a.type||"text/javascript",i.charset=a.charset||"utf8",i.async=!("async"in a)||!!a.async,i.src=r,a.attrs&&function(e,t){for(var r in t)e.setAttribute(r,t[r])}(i,a.attrs),a.text&&(i.text=""+a.text),("onload"in i?e:t)(i,n),i.onload||e(i,n),o.appendChild(i)}}()),y=u(B());const h=e=>p.default.lazy((async()=>{const t=await e();return"function"==typeof t.default?t:t.default})),f=/[?&#](?:start|t)=([0-9hms]+)/,m=/[?&#]end=([0-9hms]+)/,b=/(\d+)(h|m|s)/g,_=/^\d+$/;function v(e,t){if(e instanceof Array)return;const r=e.match(t);if(r){const e=r[1];if(e.match(b))return function(e){let t=0,r=b.exec(e);for(;null!==r;){const[,a,n]=r;"h"===n&&(t+=60*parseInt(a,10)*60),"m"===n&&(t+=60*parseInt(a,10)),"s"===n&&(t+=parseInt(a,10)),r=b.exec(e)}return t}(e);if(_.test(e))return parseInt(e)}}function P(e){return v(e,f)}function g(e){return v(e,m)}function w(){return Math.random().toString(36).substr(2,5)}function O(e){return Object.keys(e).map((t=>`${t}=${e[t]}`)).join("&")}function j(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const E={},k=function(e,t,r=null,a=()=>!0,n=d.default){const o=j(t);return o&&a(o)?Promise.resolve(o):new Promise(((a,o)=>{if(E[e])return void E[e].push({resolve:a,reject:o});E[e]=[{resolve:a,reject:o}];const i=t=>{E[e].forEach((e=>e.resolve(t)))};if(r){const e=window[r];window[r]=function(){e&&e(),i(j(t))}}n(e,(a=>{a?(E[e].forEach((e=>e.reject(a))),E[e]=null):r||i(j(t))}))}))};function T(e,t){return(0,y.default)(t.config,e.config)}function C(e,...t){const r=[].concat(...t),a={},n=Object.keys(e);for(const o of n)-1===r.indexOf(o)&&(a[o]=e[o]);return a}function M(e,...t){if(!this.player||!this.player[e]){let t=`ReactPlayer: ${this.constructor.displayName} player could not call %c${e}%c – `;return this.player?this.player[e]||(t+="The method was not available"):t+="The player was not available",null}return this.player[e](...t)}function x(e){return"undefined"!=typeof window&&void 0!==window.MediaStream&&e instanceof window.MediaStream}function S(e){return/^blob:/.test(e)}function A(e=document.createElement("video")){const t=!1===/iPhone|iPod/.test(navigator.userAgent);return e.webkitSupportsPresentationMode&&"function"==typeof e.webkitSetPresentationMode&&t}return V}function W(){if(H)return N;H=1;var e,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,o={};((e,r)=>{for(var a in r)t(e,a,{get:r[a],enumerable:!0})})(o,{AUDIO_EXTENSIONS:()=>g,DASH_EXTENSIONS:()=>j,FLV_EXTENSIONS:()=>E,HLS_EXTENSIONS:()=>O,MATCH_URL_DAILYMOTION:()=>b,MATCH_URL_FACEBOOK:()=>p,MATCH_URL_FACEBOOK_WATCH:()=>d,MATCH_URL_KALTURA:()=>P,MATCH_URL_MIXCLOUD:()=>_,MATCH_URL_MUX:()=>c,MATCH_URL_SOUNDCLOUD:()=>s,MATCH_URL_STREAMABLE:()=>y,MATCH_URL_TWITCH_CHANNEL:()=>m,MATCH_URL_TWITCH_VIDEO:()=>f,MATCH_URL_VIDYARD:()=>v,MATCH_URL_VIMEO:()=>u,MATCH_URL_WISTIA:()=>h,MATCH_URL_YOUTUBE:()=>l,VIDEO_EXTENSIONS:()=>w,canPlay:()=>T}),e=o,N=((e,o,i,l)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let s of a(o))n.call(e,s)||s===i||t(e,s,{get:()=>o[s],enumerable:!(l=r(o,s))||l.enumerable});return e})(t({},"__esModule",{value:!0}),e);var i=F();const l=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,s=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,u=/vimeo\.com\/(?!progressive_redirect).+/,c=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,p=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,d=/^https?:\/\/fb\.watch\/.+$/,y=/streamable\.com\/([a-z0-9]+)$/,h=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,f=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,m=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,b=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,_=/mixcloud\.com\/([^/]+\/[^/]+)/,v=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,P=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,g=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,w=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,O=/\.(m3u8)($|\?)/i,j=/\.(mpd)($|\?)/i,E=/\.(flv)($|\?)/i,k=e=>{if(e instanceof Array){for(const t of e){if("string"==typeof t&&k(t))return!0;if(k(t.src))return!0}return!1}return!(!(0,i.isMediaStream)(e)&&!(0,i.isBlobUrl)(e))||(g.test(e)||w.test(e)||O.test(e)||j.test(e)||E.test(e))},T={youtube:e=>e instanceof Array?e.every((e=>l.test(e))):l.test(e),soundcloud:e=>s.test(e)&&!g.test(e),vimeo:e=>u.test(e)&&!w.test(e)&&!O.test(e),mux:e=>c.test(e),facebook:e=>p.test(e)||d.test(e),streamable:e=>y.test(e),wistia:e=>h.test(e),twitch:e=>f.test(e)||m.test(e),dailymotion:e=>b.test(e),mixcloud:e=>_.test(e),vidyard:e=>v.test(e),kaltura:e=>P.test(e),file:k};return N}function K(){if($)return z;$=1;var e,t=Object.defineProperty,a=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,i={};((e,r)=>{for(var a in r)t(e,a,{get:r[a],enumerable:!0})})(i,{default:()=>u}),e=i,z=((e,r,i,l)=>{if(r&&"object"==typeof r||"function"==typeof r)for(let s of n(r))o.call(e,s)||s===i||t(e,s,{get:()=>r[s],enumerable:!(l=a(r,s))||l.enumerable});return e})(t({},"__esModule",{value:!0}),e);var l=F(),s=W(),u=[{key:"youtube",name:"YouTube",canPlay:s.canPlay.youtube,lazyPlayer:(0,l.lazy)((()=>r((()=>import("./YouTube-B7dMPEux.js").then((e=>e.Y))),__vite__mapDeps([0,1,2]),import.meta.url)))},{key:"soundcloud",name:"SoundCloud",canPlay:s.canPlay.soundcloud,lazyPlayer:(0,l.lazy)((()=>r((()=>import("./SoundCloud-D4u0iRI_.js").then((e=>e.S))),__vite__mapDeps([3,1,2]),import.meta.url)))},{key:"vimeo",name:"Vimeo",canPlay:s.canPlay.vimeo,lazyPlayer:(0,l.lazy)((()=>r((()=>import("./Vimeo-D3AUVfuB.js").then((e=>e.V))),__vite__mapDeps([4,1,2]),import.meta.url)))},{key:"mux",name:"Mux",canPlay:s.canPlay.mux,lazyPlayer:(0,l.lazy)((()=>r((()=>import("./Mux-CcNF1AcG.js").then((e=>e.M))),__vite__mapDeps([5,1,2]),import.meta.url)))},{key:"facebook",name:"Facebook",canPlay:s.canPlay.facebook,lazyPlayer:(0,l.lazy)((()=>r((()=>import("./Facebook-Cd4eAQSz.js").then((e=>e.F))),__vite__mapDeps([6,1,2]),import.meta.url)))},{key:"streamable",name:"Streamable",canPlay:s.canPlay.streamable,lazyPlayer:(0,l.lazy)((()=>r((()=>import("./Streamable-B6WKtMaO.js").then((e=>e.S))),__vite__mapDeps([7,1,2]),import.meta.url)))},{key:"wistia",name:"Wistia",canPlay:s.canPlay.wistia,lazyPlayer:(0,l.lazy)((()=>r((()=>import("./Wistia-Cec8rJsU.js").then((e=>e.W))),__vite__mapDeps([8,1,2]),import.meta.url)))},{key:"twitch",name:"Twitch",canPlay:s.canPlay.twitch,lazyPlayer:(0,l.lazy)((()=>r((()=>import("./Twitch-bamLw5hI.js").then((e=>e.T))),__vite__mapDeps([9,1,2]),import.meta.url)))},{key:"dailymotion",name:"DailyMotion",canPlay:s.canPlay.dailymotion,lazyPlayer:(0,l.lazy)((()=>r((()=>import("./DailyMotion-CSi28wXW.js").then((e=>e.D))),__vite__mapDeps([10,1,2]),import.meta.url)))},{key:"mixcloud",name:"Mixcloud",canPlay:s.canPlay.mixcloud,lazyPlayer:(0,l.lazy)((()=>r((()=>import("./Mixcloud-D4e5agMK.js").then((e=>e.M))),__vite__mapDeps([11,1,2]),import.meta.url)))},{key:"vidyard",name:"Vidyard",canPlay:s.canPlay.vidyard,lazyPlayer:(0,l.lazy)((()=>r((()=>import("./Vidyard-CS_o7sgA.js").then((e=>e.V))),__vite__mapDeps([12,1,2]),import.meta.url)))},{key:"kaltura",name:"Kaltura",canPlay:s.canPlay.kaltura,lazyPlayer:(0,l.lazy)((()=>r((()=>import("./Kaltura-CNKYDdiC.js").then((e=>e.K))),__vite__mapDeps([13,1,2]),import.meta.url)))},{key:"file",name:"FilePlayer",canPlay:s.canPlay.file,canEnablePIP:e=>s.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,l.supportsWebKitPresentationMode)())&&!s.AUDIO_EXTENSIONS.test(e),lazyPlayer:(0,l.lazy)((()=>r((()=>import("./FilePlayer-DLSEGz8l.js").then((e=>e.F))),__vite__mapDeps([14,1,2]),import.meta.url)))}];return z}var q=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Z(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(a=e[r],n=t[r],!(a===n||q(a)&&q(n)))return!1;var a,n;return!0}const X=a(Object.freeze(Object.defineProperty({__proto__:null,default:function(e,t){var r;void 0===t&&(t=Z);var a,n=[],o=!1;return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return o&&r===this&&t(i,n)||(a=e.apply(this,i),o=!0,r=this,n=i),a}}},Symbol.toStringTag,{value:"Module"})));var Y,Q,J,G,ee,te,re,ae,ne,oe;function ie(){if(Q)return Y;Q=1;var e="undefined"!=typeof Element,t="function"==typeof Map,r="function"==typeof Set,a="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function n(o,i){if(o===i)return!0;if(o&&i&&"object"==typeof o&&"object"==typeof i){if(o.constructor!==i.constructor)return!1;var l,s,u,c;if(Array.isArray(o)){if((l=o.length)!=i.length)return!1;for(s=l;0!=s--;)if(!n(o[s],i[s]))return!1;return!0}if(t&&o instanceof Map&&i instanceof Map){if(o.size!==i.size)return!1;for(c=o.entries();!(s=c.next()).done;)if(!i.has(s.value[0]))return!1;for(c=o.entries();!(s=c.next()).done;)if(!n(s.value[1],i.get(s.value[0])))return!1;return!0}if(r&&o instanceof Set&&i instanceof Set){if(o.size!==i.size)return!1;for(c=o.entries();!(s=c.next()).done;)if(!i.has(s.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(i)){if((l=o.length)!=i.length)return!1;for(s=l;0!=s--;)if(o[s]!==i[s])return!1;return!0}if(o.constructor===RegExp)return o.source===i.source&&o.flags===i.flags;if(o.valueOf!==Object.prototype.valueOf&&"function"==typeof o.valueOf&&"function"==typeof i.valueOf)return o.valueOf()===i.valueOf();if(o.toString!==Object.prototype.toString&&"function"==typeof o.toString&&"function"==typeof i.toString)return o.toString()===i.toString();if((l=(u=Object.keys(o)).length)!==Object.keys(i).length)return!1;for(s=l;0!=s--;)if(!Object.prototype.hasOwnProperty.call(i,u[s]))return!1;if(e&&o instanceof Element)return!1;for(s=l;0!=s--;)if(("_owner"!==u[s]&&"__v"!==u[s]&&"__o"!==u[s]||!o.$$typeof)&&!n(o[u[s]],i[u[s]]))return!1;return!0}return o!=o&&i!=i}return Y=function(e,t){try{return n(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return!1;throw r}}}function le(){if(G)return J;G=1;var e,t=Object.create,r=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,s=(e,t,n,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))l.call(e,s)||s===n||r(e,s,{get:()=>t[s],enumerable:!(i=a(t,s))||i.enumerable});return e},u={};((e,t)=>{for(var a in t)r(e,a,{get:t[a],enumerable:!0})})(u,{defaultProps:()=>w,propTypes:()=>P}),e=u,J=s(r({},"__esModule",{value:!0}),e);var c=((e,a,n)=>(n=null!=e?t(i(e)):{},s(e&&e.__esModule?n:r(n,"default",{value:e,enumerable:!0}),e)))(n());const{string:p,bool:d,number:y,array:h,oneOfType:f,shape:m,object:b,func:_,node:v}=c.default,P={url:f([p,h,b]),playing:d,loop:d,controls:d,volume:y,muted:d,playbackRate:y,width:f([p,y]),height:f([p,y]),style:b,progressInterval:y,playsinline:d,pip:d,stopOnUnmount:d,light:f([d,p,b]),playIcon:v,previewTabIndex:y,previewAriaLabel:p,fallback:v,oEmbedUrl:p,wrapper:f([p,_,m({render:_.isRequired})]),config:m({soundcloud:m({options:b}),youtube:m({playerVars:b,embedOptions:b,onUnstarted:_}),facebook:m({appId:p,version:p,playerId:p,attributes:b}),dailymotion:m({params:b}),vimeo:m({playerOptions:b,title:p}),mux:m({attributes:b,version:p}),file:m({attributes:b,tracks:h,forceVideo:d,forceAudio:d,forceHLS:d,forceSafariHLS:d,forceDisableHls:d,forceDASH:d,forceFLV:d,hlsOptions:b,hlsVersion:p,dashVersion:p,flvVersion:p}),wistia:m({options:b,playerId:p,customControls:h}),mixcloud:m({options:b}),twitch:m({options:b,playerId:p}),vidyard:m({options:b})}),onReady:_,onStart:_,onPlay:_,onPause:_,onBuffer:_,onBufferEnd:_,onEnded:_,onError:_,onDuration:_,onSeek:_,onPlaybackRateChange:_,onPlaybackQualityChange:_,onProgress:_,onClickPreview:_,onEnablePIP:_,onDisablePIP:_},g=()=>{},w={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:g},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:g,onStart:g,onPlay:g,onPause:g,onBuffer:g,onBufferEnd:g,onEnded:g,onError:g,onDuration:g,onSeek:g,onPlaybackRateChange:g,onPlaybackQualityChange:g,onProgress:g,onClickPreview:g,onEnablePIP:g,onDisablePIP:g};return J}function se(){if(te)return ee;te=1;var e,r=Object.create,a=Object.defineProperty,n=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,s=(e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))l.call(e,s)||s===r||a(e,s,{get:()=>t[s],enumerable:!(i=n(t,s))||i.enumerable});return e},u=(e,t,n)=>(n=null!=e?r(i(e)):{},s(e&&e.__esModule?n:a(n,"default",{value:e,enumerable:!0}),e)),c=(e,t,r)=>(((e,t,r)=>{t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r),p={};((e,t)=>{for(var r in t)a(e,r,{get:t[r],enumerable:!0})})(p,{default:()=>m}),e=p,ee=s(a({},"__esModule",{value:!0}),e);var d=u(t()),y=u(ie()),h=le(),f=F();class m extends d.Component{constructor(){super(...arguments),c(this,"mounted",!1),c(this,"isReady",!1),c(this,"isPlaying",!1),c(this,"isLoading",!0),c(this,"loadOnReady",null),c(this,"startOnPlay",!0),c(this,"seekOnPlay",null),c(this,"onDurationCalled",!1),c(this,"handlePlayerMount",(e=>{this.player||(this.player=e,this.player.load(this.props.url)),this.progress()})),c(this,"getInternalPlayer",(e=>this.player?this.player[e]:null)),c(this,"progress",(()=>{if(this.props.url&&this.player&&this.isReady){const e=this.getCurrentTime()||0,t=this.getSecondsLoaded(),r=this.getDuration();if(r){const a={playedSeconds:e,played:e/r};null!==t&&(a.loadedSeconds=t,a.loaded=t/r),a.playedSeconds===this.prevPlayed&&a.loadedSeconds===this.prevLoaded||this.props.onProgress(a),this.prevPlayed=a.playedSeconds,this.prevLoaded=a.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)})),c(this,"handleReady",(()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:e,playing:t,volume:r,muted:a}=this.props;e(),a||null===r||this.player.setVolume(r),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):t&&this.player.play(),this.handleDurationCheck()})),c(this,"handlePlay",(()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:e,onPlay:t,playbackRate:r}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&1!==r&&this.player.setPlaybackRate(r),e(),this.startOnPlay=!1),t(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()})),c(this,"handlePause",(e=>{this.isPlaying=!1,this.isLoading||this.props.onPause(e)})),c(this,"handleEnded",(()=>{const{activePlayer:e,loop:t,onEnded:r}=this.props;e.loopOnEnded&&t&&this.seekTo(0),t||(this.isPlaying=!1,r())})),c(this,"handleError",((...e)=>{this.isLoading=!1,this.props.onError(...e)})),c(this,"handleDurationCheck",(()=>{clearTimeout(this.durationCheckTimeout);const e=this.getDuration();e?this.onDurationCalled||(this.props.onDuration(e),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)})),c(this,"handleLoaded",(()=>{this.isLoading=!1}))}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(e){if(!this.player)return;const{url:t,playing:r,volume:a,muted:n,playbackRate:o,pip:i,loop:l,activePlayer:s,disableDeferredLoading:u}=this.props;if(!(0,y.default)(e.url,t)){if(this.isLoading&&!s.forceLoad&&!u&&!(0,f.isMediaStream)(t))return void(this.loadOnReady=t);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(t,this.isReady)}e.playing||!r||this.isPlaying||this.player.play(),e.playing&&!r&&this.isPlaying&&this.player.pause(),!e.pip&&i&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!i&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==a&&null!==a&&this.player.setVolume(a),e.muted!==n&&(n?this.player.mute():(this.player.unmute(),null!==a&&setTimeout((()=>this.player.setVolume(a))))),e.playbackRate!==o&&this.player.setPlaybackRate&&this.player.setPlaybackRate(o),e.loop!==l&&this.player.setLoop&&this.player.setLoop(l)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(e,t,r){if(!this.isReady)return void(0!==e&&(this.seekOnPlay=e,setTimeout((()=>{this.seekOnPlay=null}),5e3)));if(t?"fraction"===t:e>0&&e<1){const t=this.player.getDuration();if(!t)return;this.player.seekTo(t*e,r)}else this.player.seekTo(e,r)}render(){const e=this.props.activePlayer;return e?d.default.createElement(e,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}return c(m,"displayName","Player"),c(m,"propTypes",h.propTypes),c(m,"defaultProps",h.defaultProps),ee}function ue(){if(ae)return re;ae=1;var e,a=Object.create,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,s=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,c=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of l(t))u.call(e,o)||o===r||n(e,o,{get:()=>t[o],enumerable:!(a=i(t,o))||a.enumerable});return e},p=(e,t,r)=>(r=null!=e?a(s(e)):{},c(e&&e.__esModule?r:n(r,"default",{value:e,enumerable:!0}),e)),d=(e,t,r)=>(((e,t,r)=>{t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r),y={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(y,{createReactPlayer:()=>T}),e=y,re=c(n({},"__esModule",{value:!0}),e);var h=p(t()),f=p(B()),m=p(X),b=p(ie()),_=le(),v=F(),P=p(se());const g=(0,v.lazy)((()=>r((()=>import("./Preview-DdvDx5PR.js").then((e=>e.P))),__vite__mapDeps([15,1,2]),import.meta.url))),w="undefined"!=typeof window&&window.document&&"undefined"!=typeof document,O=void 0!==o&&o.window&&o.window.document,j=Object.keys(_.propTypes),E=w||O?h.Suspense:()=>null,k=[],T=(e,t)=>{var r;return r=class extends h.Component{constructor(){super(...arguments),d(this,"state",{showPreview:!!this.props.light}),d(this,"references",{wrapper:e=>{this.wrapper=e},player:e=>{this.player=e}}),d(this,"handleClickPreview",(e=>{this.setState({showPreview:!1}),this.props.onClickPreview(e)})),d(this,"showPreview",(()=>{this.setState({showPreview:!0})})),d(this,"getDuration",(()=>this.player?this.player.getDuration():null)),d(this,"getCurrentTime",(()=>this.player?this.player.getCurrentTime():null)),d(this,"getSecondsLoaded",(()=>this.player?this.player.getSecondsLoaded():null)),d(this,"getInternalPlayer",((e="player")=>this.player?this.player.getInternalPlayer(e):null)),d(this,"seekTo",((e,t,r)=>{if(!this.player)return null;this.player.seekTo(e,t,r)})),d(this,"handleReady",(()=>{this.props.onReady(this)})),d(this,"getActivePlayer",(0,m.default)((r=>{for(const t of[...k,...e])if(t.canPlay(r))return t;return t||null}))),d(this,"getConfig",(0,m.default)(((e,t)=>{const{config:r}=this.props;return f.default.all([_.defaultProps.config,_.defaultProps.config[t]||{},r,r[t]||{}])}))),d(this,"getAttributes",(0,m.default)((e=>(0,v.omit)(this.props,j)))),d(this,"renderActivePlayer",(e=>{if(!e)return null;const t=this.getActivePlayer(e);if(!t)return null;const r=this.getConfig(e,t.key);return h.default.createElement(P.default,{...this.props,key:t.key,ref:this.references.player,config:r,activePlayer:t.lazyPlayer||t,onReady:this.handleReady})}))}shouldComponentUpdate(e,t){return!(0,b.default)(this.props,e)||!(0,b.default)(this.state,t)}componentDidUpdate(e){const{light:t}=this.props;!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}renderPreview(e){if(!e)return null;const{light:t,playIcon:r,previewTabIndex:a,oEmbedUrl:n,previewAriaLabel:o}=this.props;return h.default.createElement(g,{url:e,light:t,playIcon:r,previewTabIndex:a,previewAriaLabel:o,oEmbedUrl:n,onClick:this.handleClickPreview})}render(){const{url:e,style:t,width:r,height:a,fallback:n,wrapper:o}=this.props,{showPreview:i}=this.state,l=this.getAttributes(e),s="string"==typeof o?this.references.wrapper:void 0;return h.default.createElement(o,{ref:s,style:{...t,width:r,height:a},...l},h.default.createElement(E,{fallback:n},i?this.renderPreview(e):this.renderActivePlayer(e)))}},d(r,"displayName","ReactPlayer"),d(r,"propTypes",_.propTypes),d(r,"defaultProps",_.defaultProps),d(r,"addCustomPlayer",(e=>{k.push(e)})),d(r,"removeCustomPlayers",(()=>{k.length=0})),d(r,"canPlay",(t=>{for(const r of[...k,...e])if(r.canPlay(t))return!0;return!1})),d(r,"canEnablePIP",(t=>{for(const r of[...k,...e])if(r.canEnablePIP&&r.canEnablePIP(t))return!0;return!1})),r};return re}function ce(){if(oe)return ne;oe=1;var e,t=Object.create,r=Object.defineProperty,a=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,o=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,l=(e,t,o,l)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of n(t))i.call(e,s)||s===o||r(e,s,{get:()=>t[s],enumerable:!(l=a(t,s))||l.enumerable});return e},s={};((e,t)=>{for(var a in t)r(e,a,{get:t[a],enumerable:!0})})(s,{default:()=>d}),e=s,ne=l(r({},"__esModule",{value:!0}),e);var u=((e,a,n)=>(n=null!=e?t(o(e)):{},l(e&&e.__esModule?n:r(n,"default",{value:e,enumerable:!0}),e)))(K()),c=ue();const p=u.default[u.default.length-1];var d=(0,c.createReactPlayer)(u.default,p);return ne}const pe=i(ce()),de="Controls-module__controls__HkR-H",ye="Controls-module__controls__title__6jji0",he=t=>e.createElement("svg",{width:80,height:80,viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},e.createElement("rect",{width:80,height:80,rx:40,fill:"white"}),e.createElement("path",{d:"M30 25H33.3333V55H30V25ZM46.6667 25H50V55H46.6667V25Z",fill:"black"})),fe=t=>e.createElement("svg",{width:80,height:80,viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},e.createElement("rect",{width:80,height:80,rx:40,fill:"white"}),e.createElement("path",{d:"M30 53.6595V26.3404C30 25.0313 31.4399 24.2332 32.55 24.927L54.4053 38.5867C55.4498 39.2393 55.4498 40.7605 54.4053 41.4133L32.55 55.0728C31.4399 55.7667 30 54.9687 30 53.6595Z",fill:"black"})),me=({playing:e,title:t,handlePlayPause:r})=>l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`${de} controls__visible`,onClick:()=>r(),children:e?l.jsx(he,{}):l.jsx(fe,{})}),!e&&l.jsx("div",{className:`${ye} controls__visible`,children:t})]}),be=({isOpen:t,movieTitle:r,trailerUrl:a,onClose:n})=>{const[o,i]=e.useState(!0);e.useEffect((()=>{t&&i(!0)}),[t]);const u=()=>{i((e=>!e))};return l.jsxs(s,{isOpen:t,onRequestClose:n,className:M,overlayClassName:"overlay",shouldCloseOnOverlayClick:!0,closeTimeoutMS:300,children:[a?l.jsxs("div",{className:x,children:[l.jsx("div",{className:S,onClick:u}),l.jsx(pe,{url:a,playing:o,controls:!1,width:"100%",height:"100%"}),l.jsx(me,{playing:o,title:r,handlePlayPause:u})]}):l.jsx("div",{className:x,children:l.jsx("div",{children:"Видео недоступно :("})}),!o&&l.jsx("button",{className:A,onClick:n,"aria-label":"Закрыть просмотр трейлера",children:"×"})]})},_e=({movie:t,showDetailsButton:r=!1,showRefreshButton:a=!1,onRefreshClick:n})=>{var o;b(t.backdropUrl);const i=u(),{userName:s,showModal:M}=c(),[x,S]=e.useState(!1),A=_({queryFn:()=>f.fetchUser(),queryKey:["user"],enabled:!!s},h),R=p({mutationFn:()=>f.addFavorites(t.id),onSuccess:()=>{h.invalidateQueries({queryKey:["user"]})}},h),I=p({mutationFn:()=>f.deleteFavorites(t.id),onSuccess:()=>{h.invalidateQueries({queryKey:["user"]})}},h),L=null==(o=A.data)?void 0:o.favorites.includes(`${t.id}`);return l.jsxs("div",{className:v,children:[l.jsxs("div",{className:P,children:[l.jsx(d,{movie:t}),l.jsx("h2",{className:g,children:t.title}),l.jsx("p",{className:w,children:t.plot}),l.jsxs("div",{className:`${r?E:k}`,children:[l.jsx(y,{text:"Трейлер",onClick:()=>{S(!0)},"aria-label":"Перейти к просмотру трейлера"}),r&&l.jsx(y,{text:"О фильме",type:"grey",onClick:()=>i(`/movie/${t.id}`),"aria-label":"Перейти к подробной информации о фильме"}),l.jsx(y,{icon:L?l.jsx(T,{}):l.jsx(m,{}),type:"grey",onClick:()=>{s?L?I.mutate():R.mutate():M()},"aria-label":"Добавить фильм в избранное"}),a&&n&&l.jsx(y,{icon:l.jsx(C,{}),type:"grey",onClick:n,"aria-label":"Обновить случайный фильм"})]})]}),l.jsx("div",{className:O,children:t.backdropUrl?l.jsx("img",{src:t.backdropUrl,alt:t.title}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:g,children:t.title}),l.jsx("p",{className:j,children:"Постер недоступен"})]})}),l.jsx(be,{isOpen:x,movieTitle:t.title,trailerUrl:t.trailerUrl,onClose:()=>{S(!1)}})]})};export{_e as M,W as a,F as r};
