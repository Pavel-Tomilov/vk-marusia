import{r as e,_ as s,j as r,k as a,L as t,a as _,q as i,A as n}from"./index-DiawIBuO.js";import{a as o,u as m,E as c}from"./ErrorMessage-C6u2BIwH.js";const l="GenresPage-module__genres__TCssp",p="GenresPage-module__genres__container__o88R8",u="GenresPage-module__genres__title__AbHoK",E="GenresPage-module__genres__list__C61zr",d="CardGenre-module__card__genre__DrThs",g="CardGenre-module__card__text__lPvcA",j=({data:t})=>{const[_,i]=e.useState(null);e.useEffect((()=>{((e,s,r)=>{const a=e[s];return a?"function"==typeof a?a():Promise.resolve(a):new Promise(((e,a)=>{("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+s+(s.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))}))})(Object.assign({"../../assets/images/action.webp":()=>s((()=>import("./action-DORjWCCr.js")),[]),"../../assets/images/adventure.webp":()=>s((()=>import("./adventure-g6RdyE-2.js")),[]),"../../assets/images/animation.webp":()=>s((()=>import("./animation-BLiKaByS.js")),[]),"../../assets/images/comedy.webp":()=>s((()=>import("./comedy-CewL-vNK.js")),[]),"../../assets/images/crime.webp":()=>s((()=>import("./crime-9XBQGNSs.js")),[]),"../../assets/images/documentary.webp":()=>s((()=>import("./documentary-B6h0vbdm.js")),[]),"../../assets/images/drama.webp":()=>s((()=>import("./drama-RSZQNdmk.js")),[]),"../../assets/images/family.webp":()=>s((()=>import("./family-BGmAR48k.js")),[]),"../../assets/images/fantasy.webp":()=>s((()=>import("./fantasy-DFBFCivD.js")),[]),"../../assets/images/history.webp":()=>s((()=>import("./history-BumOyudw.js")),[]),"../../assets/images/horror.webp":()=>s((()=>import("./horror-C0zs2oIR.js")),[]),"../../assets/images/music.webp":()=>s((()=>import("./music-CXRqjhDc.js")),[]),"../../assets/images/mystery.webp":()=>s((()=>import("./mystery-WH6aN4WP.js")),[]),"../../assets/images/romance.webp":()=>s((()=>import("./romance-stzFhBhZ.js")),[]),"../../assets/images/scifi.webp":()=>s((()=>import("./scifi-Bxol_eoX.js")),[]),"../../assets/images/stand-up.webp":()=>s((()=>import("./stand-up-DKAG-fve.js")),[]),"../../assets/images/thriller.webp":()=>s((()=>import("./thriller-BeF0-fDp.js")),[]),"../../assets/images/tv-movie.webp":()=>s((()=>import("./tv-movie-CESNyYxb.js")),[]),"../../assets/images/war.webp":()=>s((()=>import("./war-Bf0qUkag.js")),[]),"../../assets/images/western.webp":()=>s((()=>import("./western-DZl61eDU.js")),[])}),`../../assets/images/${t.toLowerCase()}.webp`,5).then((e=>{i(e.default)})).catch((e=>{}))}),[t]);const{isVisible:n,elementRef:m}=(()=>{const[s,r]=e.useState(!1),a=e.useRef(null);return e.useEffect((()=>{const e=new IntersectionObserver((([s])=>{s.isIntersecting&&(r(!0),e.disconnect())}),{rootMargin:"200px"});return a.current&&e.observe(a.current),()=>{a.current&&e.unobserve(a.current)}}),[]),{isVisible:s,elementRef:a}})();return o(n&&_||""),r.jsx("div",{ref:m,className:d,style:{backgroundImage:_?`url('${_}')`:void 0},children:r.jsx("div",{className:g,children:a(`${t}`)})})},b=({genres:e})=>r.jsx("section",{className:l,children:r.jsxs("div",{className:`container ${p}`,children:[r.jsx("h2",{className:u,children:"Жанры фильмов"}),r.jsx("ul",{className:E,children:e.map(((e,s)=>r.jsx("li",{children:r.jsx(t,{to:`/movie?genre=${e}`,className:"movie__link","aria-label":`Перейти к ${e} фильмам`,children:r.jsx(j,{data:e})})},s)))})]})}),w=()=>{const e=m({queryFn:()=>n.getGenres(),queryKey:["genres"]},i);switch(e.status){case"pending":return r.jsx(_,{});case"success":return r.jsx(b,{genres:e.data});case"error":return r.jsx(c,{onRetry:()=>e.refetch()})}};export{w as default};
