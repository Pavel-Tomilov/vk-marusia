import{r as e,_ as s,j as r,k as t,L as a,a as _,q as i,A as m}from"./index-CIAGuXla.js";import{a as o,u as n,E as l}from"./ErrorMessage-CkkX8T-l.js";const p="GenresPage-module__genres__TCssp",u="GenresPage-module__genres__container__o88R8",c="GenresPage-module__genres__title__AbHoK",E="GenresPage-module__genres__list__C61zr",d="CardGenre-module__card__genre__DrThs",g="CardGenre-module__card__text__lPvcA",j=({data:a})=>{const[_,i]=e.useState(null);e.useEffect((()=>{((e,s,r)=>{const t=e[s];return t?"function"==typeof t?t():Promise.resolve(t):new Promise(((e,t)=>{("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+s+(s.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))}))})(Object.assign({"../../assets/images/action.webp":()=>s((()=>import("./action-DmZjanNu.js")),[],import.meta.url),"../../assets/images/adventure.webp":()=>s((()=>import("./adventure-DzBoD3dn.js")),[],import.meta.url),"../../assets/images/animation.webp":()=>s((()=>import("./animation-C1CZ0mB1.js")),[],import.meta.url),"../../assets/images/comedy.webp":()=>s((()=>import("./comedy-Bxte7QMM.js")),[],import.meta.url),"../../assets/images/crime.webp":()=>s((()=>import("./crime-DPci7MXH.js")),[],import.meta.url),"../../assets/images/documentary.webp":()=>s((()=>import("./documentary-QTTU-Xaq.js")),[],import.meta.url),"../../assets/images/drama.webp":()=>s((()=>import("./drama-Ccug3XDY.js")),[],import.meta.url),"../../assets/images/family.webp":()=>s((()=>import("./family-CXtTb5O-.js")),[],import.meta.url),"../../assets/images/fantasy.webp":()=>s((()=>import("./fantasy-D4ViHDpk.js")),[],import.meta.url),"../../assets/images/history.webp":()=>s((()=>import("./history-7tKnfvIV.js")),[],import.meta.url),"../../assets/images/horror.webp":()=>s((()=>import("./horror-COS9Tz1W.js")),[],import.meta.url),"../../assets/images/music.webp":()=>s((()=>import("./music-htzv8JdW.js")),[],import.meta.url),"../../assets/images/mystery.webp":()=>s((()=>import("./mystery-3oYklXXA.js")),[],import.meta.url),"../../assets/images/romance.webp":()=>s((()=>import("./romance-DOHqjG7x.js")),[],import.meta.url),"../../assets/images/scifi.webp":()=>s((()=>import("./scifi-BSlVwSjS.js")),[],import.meta.url),"../../assets/images/stand-up.webp":()=>s((()=>import("./stand-up-B4hJCaX9.js")),[],import.meta.url),"../../assets/images/thriller.webp":()=>s((()=>import("./thriller-BKtnimhQ.js")),[],import.meta.url),"../../assets/images/tv-movie.webp":()=>s((()=>import("./tv-movie-BUyKz-8J.js")),[],import.meta.url),"../../assets/images/war.webp":()=>s((()=>import("./war-MRttUkA6.js")),[],import.meta.url),"../../assets/images/western.webp":()=>s((()=>import("./western-BqTkGEzj.js")),[],import.meta.url)}),`../../assets/images/${a.toLowerCase()}.webp`,5).then((e=>{i(e.default)})).catch((e=>{}))}),[a]);const{isVisible:m,elementRef:n}=(()=>{const[s,r]=e.useState(!1),t=e.useRef(null);return e.useEffect((()=>{const e=new IntersectionObserver((([s])=>{s.isIntersecting&&(r(!0),e.disconnect())}),{rootMargin:"200px"});return t.current&&e.observe(t.current),()=>{t.current&&e.unobserve(t.current)}}),[]),{isVisible:s,elementRef:t}})();return o(m&&_||""),r.jsx("div",{ref:n,className:d,style:{backgroundImage:_?`url('${_}')`:void 0},children:r.jsx("div",{className:g,children:t(`${a}`)})})},b=({genres:e})=>r.jsx("section",{className:p,children:r.jsxs("div",{className:`container ${u}`,children:[r.jsx("h2",{className:c,children:"Жанры фильмов"}),r.jsx("ul",{className:E,children:e.map(((e,s)=>r.jsx("li",{children:r.jsx(a,{to:`/movie?genre=${e}`,className:"movie__link","aria-label":`Перейти к ${e} фильмам`,children:r.jsx(j,{data:e})})},s)))})]})}),w=()=>{const e=n({queryFn:()=>m.getGenres(),queryKey:["genres"]},i);switch(e.status){case"pending":return r.jsx(_,{});case"success":return r.jsx(b,{genres:e.data});case"error":return r.jsx(l,{onRetry:()=>e.refetch()})}};export{w as default};
